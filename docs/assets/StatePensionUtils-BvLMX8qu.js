import{g as D,a as I,b}from"./main-CTZlZDOh.js";function d(o){if(!o)return null;const s={january:0,jan:0,february:1,feb:1,march:2,mar:2,april:3,apr:3,may:4,june:5,jun:5,july:6,jul:6,august:7,aug:7,september:8,sep:8,sept:8,october:9,oct:9,november:10,nov:10,december:11,dec:11},a=o.trim().replace(/\s+/g," ");if(/^\d{4}-\d{2}-\d{2}$/.test(a)){const n=new Date(a);if(!isNaN(n.getTime()))return n}if(/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(a)){const[n,t,r]=a.split("/").map(Number);return new Date(r,t-1,n)}if(/^\d{1,2}-\d{1,2}-\d{4}$/.test(a)){const[n,t,r]=a.split("-").map(Number);return new Date(r,t-1,n)}let e=a.match(/^(\d{1,2})\s+(\w+)\s+(\d{4})$/i);if(e){const n=parseInt(e[1]),t=s[e[2].toLowerCase()],r=parseInt(e[3]);if(t!==void 0)return new Date(r,t,n)}if(e=a.match(/^(\w+)\s+(\d{1,2})\s+(\d{4})$/i),e){const n=s[e[1].toLowerCase()],t=parseInt(e[2]),r=parseInt(e[3]);if(n!==void 0)return new Date(r,n,t)}if(e=a.match(/^(\w+)\s+(\d{1,2})(?:st|nd|rd|th)?,?\s+(\d{4})$/i),e){const n=s[e[1].toLowerCase()],t=parseInt(e[2]),r=parseInt(e[3]);if(n!==void 0)return new Date(r,n,t)}if(e=a.match(/^(\d{1,2})(?:st|nd|rd|th)?\s+(\w+),?\s+(\d{4})$/i),e){const n=parseInt(e[1]),t=s[e[2].toLowerCase()],r=parseInt(e[3]);if(t!==void 0)return new Date(r,t,n)}return null}function m(o){const s=typeof o=="string"?d(o):o;if(!s||isNaN(s.getTime()))return"";const a=["January","February","March","April","May","June","July","August","September","October","November","December"];return`${s.getDate()} ${a[s.getMonth()]} ${s.getFullYear()}`}function k(o){const{taxYear:s,spStartDate:a,weeklyAmount:e,taxYearConfigs:n={}}=o;if(!a||!e||e<=0)return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:null};const t=typeof a=="string"?d(a):a;if(!t||isNaN(t.getTime()))return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:null};const r=D(t);I(s);const l=b(s),f=[...new Set([r,s,...Object.keys(n)])].sort(),y=f.indexOf(r),h=f.indexOf(s);if(h<y)return{annual:0,monthly:0,isReceiving:!1,isFirstYear:!1,weeksInYear:0,startDate:m(t)};let p=1;for(let c=y;c<h;c++){const u=f[c],i=n[u],Y=(i==null?void 0:i.cpi)||.025;p*=1+Y}const g=e*p;if(s===r){const u=Math.max(0,(l.getTime()-t.getTime())/6048e5),i=g*u;return{annual:i,monthly:i/12,isReceiving:!0,isFirstYear:!0,weeksInYear:Math.round(u*10)/10,startDate:m(t)}}const w=g*52;return{annual:w,monthly:w/12,isReceiving:!0,isFirstYear:!1,weeksInYear:52,startDate:m(t)}}function M(o,s=new Date){const a=typeof o=="string"?d(o):o;if(!a||isNaN(a.getTime()))return{years:0,months:0,totalMonths:0,isPast:!1};const e=a.getTime()-s.getTime(),n=e<=0;if(n)return{years:0,months:0,totalMonths:0,isPast:!0};const t=Math.floor(e/(30.44*24*60*60*1e3)),r=Math.floor(t/12),l=t%12;return{years:r,months:l,totalMonths:t,isPast:n}}export{k as calculateStatePensionForTaxYear,m as formatStatePensionDate,M as getTimeUntilStatePension,d as parseStatePensionDate};
